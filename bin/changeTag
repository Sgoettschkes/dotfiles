#!/bin/bash

# File managed by Sgoettschkes/dotfiles
# Do not change

set -o nounset
set -o errexit

readonly Progname=$(basename "$0")
readonly Progdir=$(readlink -m $(dirname "$0"))
readonly Args="$@"

main () {
    if [ "$#" -lt 2 ]; then
        echo "Missing arguments. Usage: changeTag TAG VALUE [FILES]"
        exit
    fi

    local readonly Tag=$1
    local readonly Value=$2
    local readonly Files=${3:-*}
    
    echo "Changing $Tag to $Value for $Files"
    echo ""

    echo "OLD values"
    metaflac --show-tag=$Tag $Files

    metaflac --remove-tag=$Tag $Files
    metaflac --set-tag=$Tag="$Value" $Files

    echo ""
    echo "NEW values"
    metaflac --show-tag=$Tag $Files
}
main $Args
